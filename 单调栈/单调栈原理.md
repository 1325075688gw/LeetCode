**性质**

```python
- 单调栈是一种特殊性质的栈，特殊之处在于栈内的元素都保持一个单调性
```

##### 单调栈:

```python
- 入栈、出栈的地方叫做栈顶
- 栈的最底部，叫做栈底

单调递增栈:从栈顶到栈底严格单调递增
单调递减栈:从栈顶到栈底严格单调递减
```

**题目：**

​	[柱状图中最大的矩形](https://leetcode-cn.com/problems/largest-rectangle-in-histogram/)(LeetCode_84)

**解析：**

​	**特例：**

```python
-  对于这个题，如果从左到右，矩形的高度依次递增（可以不是严格递增），那么我们求解方法为：

	- 从右到左依次计算各矩形高度，同时乘以该高度为矩形，宽为数组长度减去当前矩形下标（数组下标从0开始计算），最后比较谁大就行了

```



​	**正常情况**：

```python
	但是正常情况下，后一个矩形的高度不一定比前一个矩形高度小，也就是说，就是因为这个矮高度矩形的加入，限制了我们之前矩形的高度。那么之前矩形的高度对于以后的统计就没什么用了，这个时候，我们把矮矩形添加进来之前，先计算高矩形的答案，然后删除高矩形。

	这其实就是单调栈模型。在单调栈中进出栈时候，我们比较的是矩形的高度，但是栈中维护的是每个矩形的下标，这样我们就可以在弹出栈时候，统计出宽度，同时知道矩形的高度。我们就可以计算出各个矩形的高度了。由于我们所有操作都是在进栈出栈间完成，所以时间复杂度为O(n).

	注意：我们数组的最后个元素进栈后，由于后面没有元素了，所以无法和其他元素进行比较，也就无法出栈，所以我们需要在数组最后添加一个元素，该元素为无穷大，或者无穷小。具体情况看是单调递增还是单调递减栈。如果是单调递减栈，数组最后添加一个无穷小，如果是单调递增栈，数组最后添加一个无穷大元素

```



**单调栈应用**

- 1.最基础的应用就是给定一组数，针对每个数，寻找它和它右边第一个比它大的数之间有多少个数。（小牛向右看）
- 2.给定一序列，寻找某一子序列，使得子序列中的最小值乘以子序列的长度最大。（柱状图中的最大矩形）
- 3.给定一序列，寻找某一子序列，使得子序列中的最小值乘以子序列所有元素和最大。[题目](http://poj.org/problem?id=2796) [题解](http://blog.csdn.net/zuzhiang/article/details/78136480)



**单调递减栈伪代码**

```python
所以进栈出栈都是操作元素下标，然后我们可以通过元素下标获取元素

a 为原始数组
a = a+[float('-inf')]
stack = []
res = 0
for i in range(len(a)):
    if (栈为空，或者入栈元素a[i]大于栈顶元素stack[-1]):
        入栈
    else:
        while (栈不为空，或者栈顶元素大于等于入栈元素):
            tmp = stack.pop()  栈元素出栈
            res = ... 在这进行res结果更新
		stack.append(i)   入栈刚才那个元素




```

